---
title: Livestream with Raspberry Pi
date: 2020-05-16
image: https://img.qwq.xyz/2023/6f7b3983dd7cc.png
excerpt: Stream with rtmp on Raspberry Pi using docker
tags:
    - raspberry pi
    - docker
---

## Requirements
- Raspberry Pi Zero W (Any Raspberry Pi will work)
- Raspberry Pi compatible camera
- Time

## Setting up
1. Set up Pi headlessly：[https://desertbot.io/blog/setup-pi-zero-w-headless-wifi](https://desertbot.io/blog/setup-pi-zero-w-headless-wifi)
2. Install Nano：_`apt-get install nano`_ ![](https://img.qwq.xyz/2020/e188b3d79d55b.png)
3. Enable root:
3.1. Edit this file _`sudo nano /etc/ssh/sshd_config`_
3.2. Find this line _`PermitRootLogin without-password`_
3.3. Change it to _`PermitRootLogin yes`_ ![](https://img.qwq.xyz/2020/6fda1058746c7.png)
3.4. Restart Pi _`reboot`_ or restart service _`/etc/init.d/ssh restart`_
3.5. Set password for root _`sudo passwd root`_
4. Login with root
5. Enable camera:
5.1. Go to settings _`raspi-config`_
5.2. Find Interfacing Options
5.3. Enable camera ![](https://img.qwq.xyz/2020/57ac52aa6ebb7.png)

## Livestream with Docker
1. Install Docker：_`curl -fsSL get.docker.com -o get-docker.sh && sh get-docker.sh`_
2. Download Docker Image：_`docker pull cocdeshijie/pi_stream`_ ![](https://img.qwq.xyz/2020/4acf816869293.png)
3. Create container：_`docker run --privileged --name cam -d --restart=always cocdeshijie/pi_stream [RTMP link]`_
 - change [RTMP link] to your RTMP link
 - Example(Youtube)： url: rtmp://a.rtmp.youtube.com/live2/ key: xxxx-xxxx-xxxx-xxxx url + key = RTMP link = rtmp://a.rtmp.youtube.com/live2/xxxx-xxxx-xxxx-xxxx ![](https://img.qwq.xyz/2020/752d0612da2e9.png)


